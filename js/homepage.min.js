var bodyElem=document.querySelector("body");var contentElem=document.querySelector(".content");var snowicons=[];var screenW=contentElem.offsetWidth;var screenH=contentElem.offsetHeight;var currentId=0;var t=0;const dt=0.001;const g=0.1;const vmax=2;const maxIcons=20;const iconSpawnDelay=0.5;var lastIconSpawnTime=0;function createIcon(){let newicon={x:(Math.random()*screenW),y:100,vx=(Math.random()*vmax),vy:(Math.random()*vmax),angle:Math.random(),iconclass:"icon-csharp",idn:currentId,eid:("si"+String(currentId))};currentId++;snowicons.push(newicon);let newElem=document.createElement("i");newElem.setAttribute("class","frontanimicon "+newicon.iconclass;newElem.setAttribute("id",newicon.eid);newElem.setAttribute("style","left: ${newicon.x}; top: ${newicon.y};");contentElem.appendChild(newElem);}
function updateScreenDimensions(){screenW=contentElem.offsetWidth;screenH=contentElem.offsetHeight;}
function updateIcons(){updateScreenDimensions();for(i=snowicons.length-1;i>=0;i--){let ic=snowicons[i];ic.vy=g*dt;let vel=Math.sqrt((ic.vx*ic.vx)+(ic.vy*ic.vy));if(vel>=vmax){ic.vx=ic.vx/vel*vmax;ic.vy=ic.vy/vel*vmax;}
ic.x+=ic.vx*dt;ic.y+=ic.vy*dt;let iconElem=document.querySelector("#${ic.eid}");if(ic.y>=screenH){iconElem.remove();snowicons.splice(i,1);continue;}}
t+=dt;if(t>=lastIconSpawnTime+iconSpawnDelay&&snowicons.length<maxIcons){createIcon();lastIconSpawnTime=t;}}