var bodyElem=document.querySelector("body");var contentElem=document.querySelector(".cover-container");var snowicons=[];var screenW=contentElem.offsetWidth;var screenH=contentElem.offsetHeight;var currentId=0;var t=0;const dt=0.2;const g=75;const vmax=250;const maxIcons=50;const iconSpawnDelay=1.4;var lastIconSpawnTime=0;var spawnMinHeight=-20;var spawnMaxHeight=40;function createIcon(){let newicon={x:(Math.random()*screenW),y:((Math.random()*(spawnMaxHeight-spawnMinHeight))+spawnMinHeight),vx:0,vy:(Math.random()*vmax),z:0,angle:Math.random(),iconclass:"icon-csharp",idn:currentId,eid:(`si${currentId}`)};currentId++;snowicons.push(newicon);let newElem=document.createElement("i");newElem.setAttribute("class","frontanimicon "+newicon.iconclass);newElem.setAttribute("id",newicon.eid);newElem.setAttribute("style",`left:${newicon.x.toFixed(3)}px;top:${newicon.y.toFixed(3)}px;`);contentElem.appendChild(newElem);}
function updateScreenDimensions(){screenW=contentElem.offsetWidth;screenH=contentElem.offsetHeight;}
function updateIcons(){updateScreenDimensions();for(i=snowicons.length-1;i>=0;i--){let ic=snowicons[i];ic.vy=g*dt;let vel=Math.sqrt((ic.vx*ic.vx)+(ic.vy*ic.vy));if(vel>=vmax){ic.vx=ic.vx/vel*vmax;ic.vy=ic.vy/vel*vmax;}
ic.x+=ic.vx*dt;ic.y+=ic.vy*dt;let iconElem=document.querySelector(`#${ic.eid.toString()}`);if(ic.y>=screenH){iconElem.remove();snowicons.splice(i,1);continue;}
snowicons[i]=ic;iconElem.setAttribute("style",`left:${ic.x.toFixed(3)}px;top:${ic.y.toFixed(3)}px;`);}
t+=dt;if(t>=lastIconSpawnTime+iconSpawnDelay&&snowicons.length<maxIcons){createIcon();lastIconSpawnTime=t;}}
for(i=0;i<20;i++){createIcon();}
setInterval(updateIcons,20);