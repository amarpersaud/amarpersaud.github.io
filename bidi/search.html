<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="Keywords" content="">
    <meta name="Description" content="Amar Persaud - Student programmer and game developer">
    <link rel="icon" href="/favicon.ico">
    <title>Amar Persaud</title>
    
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
    <link rel="stylesheet" type="text/css" href="css/search.css" />
    <link rel="stylesheet" type="text/css" href="css/main.css" />
  </head>

  <body>
  
  
    <!-- Top navigation bar-->
    <nav class="site-nav">
      <span id="brand"><a href="#" id="sitelink" class="brand">Amar Persaud</a></span>
      <button class="openbutton"><i class="icon-menu"></i></button>
      <div class="nav">
        <ul>
          <li><input id="searchbox" type="search" placeholder="Search..." ></input><i class="icon-search" id="search-button"></i></li>
          <li id="nav_home"><a href="#">Home</a></li>
          <li id="nav_projects"><a href="#">Projects</a></li>
          <li id="nav_about"><a href="#">About Me</a></li>
          <li id="nav_other"><a href="#">Other</a></li>
        </ul>
      </div>
    </nav>
    <div class="content">

      <div class="reswrap">
        <h1>Results</h1>
        <hr class="d"></hr>
        <p id="count">Showing <b>0</b>-<b>0</b> of <b>0</b> for ""</p>
        <ul id="results">
        </ul>
      </div>  

    <div class="push">
    </div>
    </div>
    <div class="footer">
        <p>&#xa9; 2015 - 2016 Amar Persaud</p>
    </div>
    <!-- Added to end to make loading go a bit faster -->
    <script type="text/javascript" src="js/js.js"></script>
    <script type="text/javascript" src="js/lunr.js"></script>
    <script>
    var txt;
      searchstring = decodeURIComponent(GetURLParameter("q"));
      resultcontainer = document.getElementById('results');
      searchbar.value = searchstring;
      counter = document.getElementById("count");
      titleelement = document.getElementsByTagName("title")[0];
      titleelement.innerHTML = "A.P. Search - " + searchstring;
      
      
      
      
      var idx = lunr(function () {
            this.field('Title', { boost: 20 })
            this.field('URI', { boost: 17 })
            this.field('Desc', { boost: 18 })
            this.ref('Id')
        });
      function myFunction(arg){
        resultcontainer.innerHTML = "";
        txt = arg;
        for(i=0;i<arg.data.length;i++){
          idx.add(arg.data[i]);
        }
        x = idx.search(searchstring);
        if(x.length == 0){
          resultcontainer.innerHTML += "No results found.";
          counter.innerHTML = "Showing <b>0</b>-<b>0</b> of <b>0</b> for \"" + searchstring + "\"";  
        }
        else{
          upper = 1;
          if(x.length >=15){
            lower = 15;
          }
          else{
            lower = x.length;
          }
          total = x.length;
          counter.innerHTML = "Showing <b>" + upper + "</b>-<b>" + lower + "</b> of <b>" + total + "</b> for \"" + searchstring + "\"";
        }
        for(i=0;i<x.length && i<16;i++){
          resultcontainer.innerHTML += "<li><a href='"+ arg.data[x[i].ref].URI +"'><span>" + arg.data[x[i].ref].Title + "</span><span>" + arg.data[x[i].ref].URI + "</span><span>" + arg.data[x[i].ref].Desc + "</span></a></li>";
        }
      }
      function filter(arg){
        resultcontainer.innerHTML = "";
        x = idx.search(searchbar.value);
          for(i=0;i<x.length;i++){
            resultcontainer.innerHTML += "<li><a href='/a/?id="+ x[i].ref +"'>" + arg.data[x[i].ref].Name + "</a></li>";
          }
        titleelement.innerHTML = "A.P. Search - " + searchbar.value;
      }

      getjson(myFunction, "search_index.json");
    </script>
    
  </body>
</html>