function myFunction(e){for(resultcontainer.innerHTML="",txt=e,i=0;i<e.data.length;i++)idx.add(e.data[i]);for(x=idx.search(searchstring),0==x.length?(resultcontainer.innerHTML+="No results found.",counter.innerHTML='Showing <b>0</b>-<b>0</b> of <b>0</b> for "'+searchstring+'"'):(upper=1,x.length>=15?lower=15:lower=x.length,total=x.length,counter.innerHTML="Showing <b>"+upper+"</b>-<b>"+lower+"</b> of <b>"+total+'</b> for "'+searchstring+'"'),i=0;i<x.length&&i<16;i++)resultcontainer.innerHTML+="<li><a href='"+e.data[x[i].ref].URI+"'><span>"+e.data[x[i].ref].Title+"</span><span>"+e.data[x[i].ref].URI+"</span><span>"+e.data[x[i].ref].Desc+"</span></a></li>"}function filter(e){for(resultcontainer.innerHTML="",x=idx.search(searchbar.value),i=0;i<x.length;i++)resultcontainer.innerHTML+="<li><a href='/a/?id="+x[i].ref+"'>"+e.data[x[i].ref].Name+"</a></li>";titleelement.innerHTML="A.P. Search - "+searchbar.value}var txt;searchstring=decodeURIComponent(GetURLParameter("q")),resultcontainer=document.getElementById("results"),searchbar.value=searchstring,counter=document.getElementById("count"),titleelement=document.getElementsByTagName("title")[0],titleelement.innerHTML="A.P. Search - "+searchstring;var idx=lunr(function(){this.field("Title",{boost:10}),this.field("URI"),this.field("Desc"),this.ref("Id")});getjson(myFunction,"search_index.json");